{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/Searchbar.module.css","components/Modal/Modal.module.css"],"names":["module","exports","Searchbar","state","searchQuery","handleChange","event","setState","target","value","handleForm","preventDefault","props","onSubmit","className","styles","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","images","showLargeImage","map","id","webformatURL","largeImageURL","ImageGalleryItemImage","src","alt","data-image","onClick","ImageGallery","Button","GalleryLoader","wrapper","color","height","width","Modal","handleKeydown","code","closeModal","handleClick","currentTarget","window","addEventListener","removeEventListener","urlImage","image","Overlay","App","query","page","isLoading","showModal","urlLargeImage","handleQuery","fetchImages","axios","get","then","response","data","hits","prevState","finally","toggleModal","handleClickImage","url","dataset","prevProps","scrollTo","top","document","documentElement","scrollHeight","behavior","showButton","length","ReactDOM","render","StrictMode","querySelector"],"mappings":"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","file":"static/js/main.128c4ace.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2bkPr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Loader_wrapper__mG1MG\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  static propTypes = {\n    searchQuery: PropTypes.string,\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    searchQuery: '',\n  };\n\n  handleChange = event => {\n    this.setState({ searchQuery: event.target.value });\n  };\n\n  handleForm = event => {\n    event.preventDefault();\n    this.props.onSubmit(this.state.searchQuery);\n  };\n\n  render() {\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.handleForm}>\n          <button type=\"submit\" className={styles.SearchFormButton}>\n            <span className={styles.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={styles.SearchFormInput}\n            value={this.state.searchQuery}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import PropTypes from 'prop-types';\nimport styles from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ images, showLargeImage }) => {\n  return images.map(({ id, webformatURL, largeImageURL }) => (\n    <li className={styles.ImageGalleryItem} key={id}>\n      <img\n        className={styles.ImageGalleryItemImage}\n        src={webformatURL}\n        alt=\"\"\n        data-image={largeImageURL}\n        onClick={showLargeImage}\n      />\n    </li>\n  ));\n};\n\nImageGalleryItem.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n    }),\n  ).isRequired,\n  showLargeImage: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from 'prop-types';\nimport styles from './ImageGallery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\n\nconst ImageGallery = ({ images, showLargeImage }) => {\n  return (\n    <ul className={styles.ImageGallery}>\n      <ImageGalleryItem images={images} showLargeImage={showLargeImage} />\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(PropTypes.object).isRequired,\n  showLargeImage: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import PropTypes from 'prop-types';\nimport styles from './Button.module.css';\n\nconst Button = ({ onClick }) => {\n  return (\n    <button className={styles.Button} type=\"button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React, { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport styles from './Loader.module.css';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nexport default class GalleryLoader extends Component {\n  //other logic\n  render() {\n    return (\n      <div className={styles.wrapper}>\n        <Loader type=\"ThreeDots\" color=\"#d40d0d\" height={90} width={90} />\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Modal.module.css';\n\nclass Modal extends Component {\n  static propTypes = {\n    urlImage: PropTypes.string,\n    closeModal: PropTypes.func.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeydown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeydown);\n  }\n\n  handleKeydown = event => {\n    if (event.code === 'Escape') {\n      this.props.closeModal();\n    }\n  };\n\n  handleClick = event => {\n    if (event.target === event.currentTarget) {\n      this.props.closeModal();\n    }\n  };\n\n  render() {\n    const urlImage = this.props.image;\n\n    return (\n      <div className={styles.Overlay} onClick={this.handleClick}>\n        <div className={styles.Modal}>\n          <img className={styles.image} src={urlImage} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\nimport GalleryLoader from './components/Loader/Loader';\nimport Modal from './components/Modal/Modal';\n\nclass App extends Component {\n  state = {\n    query: '',\n    images: [],\n    page: 1,\n    isLoading: false,\n    showModal: false,\n    urlLargeImage: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.query !== this.state.query) {\n      this.fetchImages();\n    }\n    if (prevState.page > 2) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  handleQuery = searchQuery => {\n    this.setState({ query: searchQuery, images: [], page: 1 });\n  };\n\n  fetchImages = () => {\n    const { query, page } = this.state;\n\n    this.setState({ isLoading: true });\n\n    axios\n      .get(\n        `https://pixabay.com/api/?q=${query}&page=${page}&key=19710989-7d132287f37ef0bf3153ac7f1&image_type=photo&orientation=horizontal&per_page=12`,\n      )\n      .then(response => response.data.hits)\n      .then(hits => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...hits],\n          page: prevState.page + 1,\n        }));\n      })\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  toggleModal = () => {\n    this.setState(prevState => ({ showModal: !prevState.showModal }));\n  };\n\n  handleClickImage = event => {\n    const url = event.target.dataset.image;\n    this.setState({ urlLargeImage: url });\n\n    this.toggleModal();\n  };\n\n  render() {\n    const showButton = this.state.images.length;\n    const { isLoading, showModal, urlLargeImage } = this.state;\n\n    return (\n      <div>\n        <Searchbar onSubmit={this.handleQuery} />\n        <ImageGallery\n          images={this.state.images}\n          showLargeImage={this.handleClickImage}\n        />\n        {isLoading && <GalleryLoader />}\n        {showButton > 0 && <Button onClick={this.fetchImages} />}\n        {showModal && (\n          <Modal image={urlLargeImage} closeModal={this.toggleModal} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.querySelector('#root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__8f9cn\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\",\"image\":\"Modal_image__1cHuD\"};"],"sourceRoot":""}